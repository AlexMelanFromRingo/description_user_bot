# Description User Bot

Telegram userbot –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ–ø–∏—Å–∞–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è (–±–∏–æ). –ù–∞–ø–∏—Å–∞–Ω –Ω–∞ Rust —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ [grammers](https://github.com/Lonami/grammers) –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å MTProto API.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–æ—Ç–∞—Ü–∏—è –æ–ø–∏—Å–∞–Ω–∏–π –ø—Ä–æ—Ñ–∏–ª—è –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–∞—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Telegram Premium (140 —Å–∏–º–≤–æ–ª–æ–≤ –≤–º–µ—Å—Ç–æ 70)
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—ã –≤ —á–∞—Ç–µ
- –ó–∞—â–∏—Ç–∞ –æ—Ç flood wait (rate limiting)
- –í–∞–ª–∏–¥–∞—Ç–æ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Rust 1.85+ (edition 2024)
- Telegram API credentials (–ø–æ–ª—É—á–∏—Ç—å –Ω–∞ https://my.telegram.org)

### –°–±–æ—Ä–∫–∞

```bash
git clone https://github.com/user/description_user_bot.git
cd description_user_bot
cargo build --release
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`

```bash
cp .env.example .env
```

–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
- `TG_API_ID` - –≤–∞—à API ID
- `TG_API_HASH` - –≤–∞—à API Hash

### 2. –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –æ–ø–∏—Å–∞–Ω–∏–π

```bash
# –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–º–µ—Ä
cargo run --bin description_bot -- --generate-config

# –ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –≤—Ä—É—á–Ω—É—é descriptions.json
```

–§–æ—Ä–º–∞—Ç `descriptions.json`:
```json
{
  "descriptions": [
    {
      "id": "morning",
      "text": "–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ! ‚òÄÔ∏è",
      "duration_secs": 3600
    },
    {
      "id": "working",
      "text": "–†–∞–±–æ—Ç–∞—é... üíª",
      "duration_secs": 7200
    }
  ],
  "is_premium": false
}
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

```bash
cargo run --release --bin description_bot
```

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ –∫–æ–¥ –∏–∑ Telegram.

## –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

–í—Å–µ –∫–æ–º–∞–Ω–¥—ã –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å `/description_bot`:

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `skip` | –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ç–µ–∫—É—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ |
| `status` (s) | –ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å |
| `goto <id>` | –ü–µ—Ä–µ–π—Ç–∏ –∫ –æ–ø–∏—Å–∞–Ω–∏—é –ø–æ ID –∏–ª–∏ –Ω–æ–º–µ—Ä—É |
| `pause` | –ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–æ—Ç–∞—Ü–∏—é |
| `resume` | –í–æ–∑–æ–±–Ω–æ–≤–∏—Ç—å —Ä–æ—Ç–∞—Ü–∏—é |
| `reload` | –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏–∑ —Ñ–∞–π–ª–∞ |
| `set <—Ç–µ–∫—Å—Ç>` | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Ä–µ–º–µ–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ |
| `help` | –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É |
| `info` | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ—Ç–µ |

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏—è–º–∏

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `list` (ls) | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –æ–ø–∏—Å–∞–Ω–∏–π |
| `view <id>` (v) | –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–µ—Ç–∞–ª–∏ –æ–ø–∏—Å–∞–Ω–∏—è |
| `add <id> <—Å–µ–∫> <—Ç–µ–∫—Å—Ç>` (a) | –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ |
| `edit <id> <—Ç–µ–∫—Å—Ç>` (e) | –ò–∑–º–µ–Ω–∏—Ç—å —Ç–µ–∫—Å—Ç –æ–ø–∏—Å–∞–Ω–∏—è |
| `duration <id> <—Å–µ–∫>` (dur) | –ò–∑–º–µ–Ω–∏—Ç—å –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å |
| `delete <id>` (del, rm) | –£–¥–∞–ª–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ |

### –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞

–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –æ–ø–∏—Å–∞–Ω–∏–π –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è:
- –¢–µ–∫—Å—Ç –Ω–µ –ø—É—Å—Ç–æ–π
- –î–ª–∏–Ω–∞ –Ω–µ –ø—Ä–µ–≤—ã—à–∞–µ—Ç –ª–∏–º–∏—Ç (70/140 —Å–∏–º–≤–æ–ª–æ–≤)
- –¢–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ (–±–µ–∑ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤)
- –ù–µ—Ç –Ω–µ–≤–∏–¥–∏–º—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤

## –í–∞–ª–∏–¥–∞—Ç–æ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–û—Ç–¥–µ–ª—å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ–∞–π–ª–∞ –æ–ø–∏—Å–∞–Ω–∏–π:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–π–ª
cargo run --bin validate_descriptions -- -f descriptions.json

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞–∫ Premium –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
cargo run --bin validate_descriptions -- -f descriptions.json --premium

# –ü–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥
cargo run --bin validate_descriptions -- -f descriptions.json -v

# –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–º–µ—Ä
cargo run --bin validate_descriptions -- --generate-example example.json
```

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è Telegram

- –û–±—ã—á–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏: –º–∞–∫—Å–∏–º—É–º 70 —Å–∏–º–≤–æ–ª–æ–≤ –≤ –±–∏–æ
- Premium –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏: –º–∞–∫—Å–∏–º—É–º 140 —Å–∏–º–≤–æ–ª–æ–≤
- –û–ø–∏—Å–∞–Ω–∏–µ –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç (–±–µ–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, —Ñ–∞–π–ª–æ–≤ –∏ —Ç.–¥.)

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|------------|----------|--------------|
| `TG_API_ID` | Telegram API ID | (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) |
| `TG_API_HASH` | Telegram API Hash | (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) |
| `TG_SESSION_PATH` | –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É —Å–µ—Å—Å–∏–∏ | `session.db` |
| `DESCRIPTIONS_PATH` | –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É –æ–ø–∏—Å–∞–Ω–∏–π | `descriptions.json` |
| `COMMAND_PREFIX` | –ü—Ä–µ—Ñ–∏–∫—Å –∫–æ–º–∞–Ω–¥ | `/description_bot` |
| `MIN_UPDATE_INTERVAL` | –ú–∏–Ω. –∏–Ω—Ç–µ—Ä–≤–∞–ª –º–µ–∂–¥—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏ (—Å–µ–∫) | `60` |
| `RUST_LOG` | –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è | `info` |

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–º. —Ñ–∞–π–ª [LICENSE](LICENSE)
